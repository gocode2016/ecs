webpackJsonp([146],{1501:function(n,t,e){var a=e(1502);"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e(227)("9345998e",a,!0)},1502:function(n,t,e){t=n.exports=e(226)(),t.push([n.i,"\n.michelincode[data-v-e07def66]{width: 100%;height: 100%;background: url("+e(819)+") no-repeat center;background-size: 100% 100%;\n}\n.codeimg[data-v-e07def66]{width: 70%;margin-left: 15%;margin-top: 20%;\n}\n.michelincode p[data-v-e07def66]{font-size: 20px;color: #53826A;text-align: center;\n}\n.mask[data-v-e07def66]{width: 100%;height: 100%;position: fixed;top: 0;background: url("+e(1503)+") no-repeat center;background-size: 100% 100%;\n}\r\n",""])},1503:function(n,t,e){n.exports=e.p+"static/img/michelin_mb1.c0e6256.png"},1504:function(n,t,e){var a=e(1505);"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e(227)("f2587f72",a,!0)},1505:function(n,t,e){t=n.exports=e(226)(),t.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},1506:function(n,t,e){"use strict";(function(n){var a=e(64),i=e.n(a),s=e(66),o=e(60),r=e(70),c=e.n(r);t.a={components:{cookie:i.a,Toast:s.a},data:function(){return{maskFlag:!1,userData:{},userId:"",timestamp:"",nonceStr:"",signature:"",url:"",openId:"",shareicon:"https://mmbiz.qpic.cn/mmbiz_jpg/uuwJXDpEBqsTvfD2VlUqJnOITwxmXlRbwAY09wcGlcMuMchMz96qhnlMic3Kn8eyc3ayQRVR6dhTD3ZcSiatT8Vg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1"}},methods:{shareDraw:function(){var n=this,t={MemberId:this.userId};this.$http({method:"post",url:o.a.shareDraw,data:t}).then(function(t){n.$vux.toast.text("首次分享机会可增加1次，快去抽奖吧","middle")})},share:function(){var n=this;this.$http({method:"GET",url:o.a.getTimestampAndNonceStr}).then(function(t){var e=t.data,a=e.split("|");n.timestamp=parseInt(a[0]),n.nonceStr=a[1];var i="?noncestr="+n.nonceStr+"&timestamp="+n.timestamp+"&url="+n.url;n.$http({method:"GET",url:o.a.getJsapiTicketSignature+i}).then(function(t){n.signature=t.data,c.a.config({debug:!1,appId:o.a.appId,timestamp:n.timestamp,nonceStr:n.nonceStr,signature:n.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage"]}),c.a.ready(function(){c.a.onMenuShareTimeline({title:"厨师的路怎么走？选出你的标准，iPhone X赢回家！",link:o.a.getUrl+"/#/component/tasteshare",imgUrl:n.shareicon,success:function(){n.addECWXTranspondDetails(2),n.shareDraw()},cancel:function(){},fail:function(n){}}),c.a.onMenuShareAppMessage({title:"厨师的路怎么走？选出你的标准，iPhone X赢回家！",desc:"厨师兄弟们，来抽奖吧",link:o.a.getUrl+"/#/component/tasteshare",imgUrl:n.shareicon,success:function(){n.addECWXTranspondDetails(1)},cancel:function(){},fail:function(n){}})})})})},addECWXTranspondDetails:function(n){var t={ECBrowseURL:o.a.getUrl+"/#/component/michelincode",Parameter:"",OpenId:this.openId,TranspondType:n};this.$http({method:"post",url:o.a.addECWXTranspondDetails,data:t}).then(function(n){})},onChange:function(n){var t=this;n?this.$vux.toast.show({text:"Hello World",onShow:function(){console.log("Plugin: I'm showing")},onHide:function(){console.log("Plugin: I'm hiding"),t.show9=!1}}):this.$vux.toast.hide()},maskClick:function(){n(".mask").hide()}},mounted:function(){var t=window.localStorage;null==t.getItem("michelincode")?(this.maskFlag=!0,t.setItem("michelincode","yes")):this.maskFlag=!1;var e=this.$route.query.codeState;0==e?n(".codetext").html("查看个人积分"):2==e&&n(".codetext").html("搓搓小手再来一次"),this.userData=i.a.get("WeiXinUser",function(n){for(var t=n.split("&"),e={},a=0;a<t.length;a++){var i=t[a].split("=");e[i[0]]=i[1]}return e}),this.userId=parseInt(this.userData.UserId),this.openId=this.userData.Openid;var a=window.location.href.split("#")[0];this.url=encodeURIComponent(a),this.share()}}}).call(t,e(38))},1507:function(n,t,e){"use strict";var a=function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",{staticClass:"michelincode"},[a("img",{staticClass:"codeimg",attrs:{src:e(1508)}}),n._v(" "),a("p",{staticStyle:{"margin-top":"60px"}},[n._v("关注平台")]),n._v(" "),a("p",{staticClass:"codetext"},[n._v("查看奖品发货状态")]),n._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:n.maskFlag,expression:"maskFlag"}],staticClass:"mask",on:{click:n.maskClick}})])},i=[],s={render:a,staticRenderFns:i};t.a=s},1508:function(n,t,e){n.exports=e.p+"static/img/michelin_code.27f74b2.png"},321:function(n,t,e){"use strict";function a(n){e(1501),e(1504)}Object.defineProperty(t,"__esModule",{value:!0});var i=e(1506),s=e(1507),o=e(0),r=a,c=o(i.a,s.a,r,"data-v-e07def66",null);t.default=c.exports},819:function(n,t,e){n.exports=e.p+"static/img/michelin_back.982e97b.png"}});