webpackJsonp([130],{1783:function(e,t,o){var n=o(1784);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o(227)("544d558f",n,!0)},1784:function(e,t,o){t=e.exports=o(226)(),t.push([e.i,"\n.ximg-demo {\r\n  width: 100%;\r\n  height: auto;\n}\n.ximg-error {\r\n  background-color: yellow;\n}\n.ximg-error:after {\r\n  content: '\\52A0\\8F7D\\5931\\8D25';\r\n  color: red;\n}\r\n",""])},1785:function(e,t,o){"use strict";var n=o(842);t.a={components:{XImg:n.a},methods:{success:function(e,t){console.log("success load",e);var o=t.parentNode.querySelector("span");t.parentNode.removeChild(o)},error:function(e,t,o){console.log("error load",o,e),t.parentNode.querySelector("span").innerText="load error"}},data:function(){return{list:["https://o5omsejde.qnssl.com/demo/test1.jpg","https://o5omsejde.qnssl.com/demo/test2.jpg","https://o5omsejde.qnssl.com/demo/test0.jpg","https://o5omsejde.qnssl.com/demo/test4.jpg","https://o5omsejde.qnssl.com/demo/test5.jpg","https://o5omsejde.qnssl.com/demo/test6.jpg","https://o5omsejde.qnssl.com/demo/test7.jpg","https://o5omsejde.qnssl.com/demo/test8.jpg"]}}}},1786:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",e._l(e.list,function(t){return o("div",{staticStyle:{"background-color":"yellow","text-align":"center"}},[o("span",{staticStyle:{"font-size":"20px"}},[e._v("Loading")]),e._v(" "),o("x-img",{staticClass:"ximg-demo",attrs:{src:t,"webp-src":t+"?type=webp","error-class":"ximg-error",offset:-100,container:"#vux_view_box_body"},on:{"on-success":e.success,"on-error":e.error}})],1)}))},r=[],s={render:n,staticRenderFns:r};t.a=s},386:function(e,t,o){"use strict";function n(e){o(1783)}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1785),s=o(1786),i=o(0),c=n,a=i(r.a,s.a,c,null,null);t.default=a.exports},842:function(e,t,o){"use strict";function n(e){o(843)}var r=o(845),s=o(848),i=o(0),c=n,a=i(r.a,s.a,c,null,null);t.a=a.exports},843:function(e,t,o){var n=o(844);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o(227)("c2ada46e",n,!0)},844:function(e,t,o){t=e.exports=o(226)(),t.push([e.i,"\n.b-lazy {\r\n  -webkit-transition: opacity 500ms ease-in-out;\r\n  transition: opacity 500ms ease-in-out;\r\n  max-width: 100%;\r\n  opacity: 0;\n}\n.b-lazy.b-loaded {\r\n  opacity: 1;\n}\r\n",""])},845:function(e,t,o){"use strict";var n=o(846),r=o.n(n),s=o(847),i=o.n(s),c=o(68);t.a={name:"x-img",mixins:[c.a],mounted:function(){var e=this;this.$nextTick(function(){setTimeout(function(){var t=e,o="vux-ximg-"+e.uuid;e.$el.setAttribute("id",o),e.blazy=new r.a({scroller:e.scroller,container:e.container,selector:"#"+o,offset:t.offset,errorClass:t.errorClass,successClass:t.successClass,success:function(e){t.$emit("on-success",t.src,e)},error:function(e,o){t.$emit("on-error",t.src,e,o)}})},e.delay)})},computed:{currentSrc:function(){return i()()&&this.webpSrc?this.webpSrc:this.src}},props:{src:String,webpSrc:String,defaultSrc:{type:String,default:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="},errorClass:String,successClass:String,offset:{type:Number,defaut:100},scroller:Object,container:String,delay:{type:Number,default:100}},beforeDestroy:function(){this.blazy&&this.blazy.destroy()}}},846:function(e,t,o){var n,r;!function(s,i){n=i,void 0!==(r="function"==typeof n?n.call(t,o,t,e):n)&&(e.exports=r)}(0,function(){"use strict";function e(e){var o=e._util;if(o.elements=u(e.options.selector),o.count=o.elements.length,o.destroyed&&(o.destroyed=!1,e.options.container&&m(e.options.container,function(e){f(e,"scroll",o.validateT)}),f(window,"resize",o.saveViewportOffsetT),f(window,"resize",o.validateT),f(window,"scroll",o.validateT),e.options.scroller)){var n=e.options.scroller._xscroll,r=n.userConfig.useOriginScroll?"scroll":"scrollend";n.on("afterrender",o.validateT,e),n.on(r,o.validateT,e)}t(e)}function t(e){for(var t=e._util,n=0;n<t.count;n++){var r=t.elements[n];(o(r)||a(r,e.options.successClass))&&(e.load(r),t.elements.splice(n,1),t.count--,n--)}0===t.count&&e.destroy()}function o(e){var t=e.getBoundingClientRect();return t.right>=A.left&&t.bottom>=A.top&&t.left<=A.right&&t.top<=A.bottom}function n(e,t,o){if(!a(e,o.successClass)&&(t||o.loadInvisible||e.offsetWidth>0&&e.offsetHeight>0)){var n=e.getAttribute(g)||e.getAttribute(o.src);if(n){var u=n.split(o.separator),d=u[h&&u.length>1?1:0],v=c(e,"img");if(v||void 0===e.src){var A=new Image,y=function(){o.error&&o.error(e,"invalid"),l(e,o.errorClass),p(A,"error",y),p(A,"load",x)},x=function(){if(v){s(e,d),i(e,w,o.srcset);var t=e.parentNode;t&&c(t,"picture")&&m(t.getElementsByTagName("source"),function(e){i(e,w,o.srcset)}),o.scroller&&o.scroller.reset()}else e.style.backgroundImage='url("'+d+'")';r(e,o),p(A,"load",x),p(A,"error",y)};f(A,"error",y),f(A,"load",x),s(A,d)}else s(e,d),r(e,o)}else c(e,"video")?(m(e.getElementsByTagName("source"),function(e){i(e,b,o.src)}),e.load(),r(e,o)):(o.error&&o.error(e,"missing"),l(e,o.errorClass))}}function r(e,t){l(e,t.successClass),t.success&&t.success(e),e.removeAttribute(t.src),m(t.breakpoints,function(t){e.removeAttribute(t.src)})}function s(e,t){e[b]=t}function i(e,t,o){var n=e.getAttribute(o);n&&(e[t]=n,e.removeAttribute(o))}function c(e,t){return e.nodeName.toLowerCase()===t}function a(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")}function l(e,t){a(e,t)||(e.className+=" "+t)}function u(e){for(var t=[],o=document.querySelectorAll(e),n=o.length;n--;t.unshift(o[n]));return t}function d(e){A.bottom=(window.innerHeight||document.documentElement.clientHeight)+e,A.right=(window.innerWidth||document.documentElement.clientWidth)+e}function f(e,t,o){e.attachEvent?e.attachEvent&&e.attachEvent("on"+t,o):e.addEventListener(t,o,!1)}function p(e,t,o){e.detachEvent?e.detachEvent&&e.detachEvent("on"+t,o):e.removeEventListener(t,o,!1)}function m(e,t){if(e&&t)for(var o=e.length,n=0;n<o&&!1!==t(e[n],n);n++);}function v(e,t,o){var n=0;return function(){var r=+new Date;r-n<t||(n=r,e.apply(o,arguments))}}var g,A,h,b="src",w="srcset";return function(o){if(!document.querySelectorAll){var r=document.createStyleSheet();document.querySelectorAll=function(e,t,o,n,s){for(s=document.all,t=[],e=e.replace(/\[for\b/gi,"[htmlFor").split(","),o=e.length;o--;){for(r.addRule(e[o],"k:v"),n=s.length;n--;)s[n].currentStyle.k&&t.push(s[n]);r.removeRule(0)}return t}}var s=this,i=s._util={};i.elements=[],i.destroyed=!0,s.options=o||{},s.options.error=s.options.error||!1,s.options.offset=s.options.offset||100,s.options.success=s.options.success||!1,s.options.selector=s.options.selector||".b-lazy",s.options.separator=s.options.separator||"|",s.options.container=!!s.options.container&&document.querySelectorAll(s.options.container),s.options.errorClass=s.options.errorClass||"b-error",s.options.breakpoints=s.options.breakpoints||!1,s.options.loadInvisible=s.options.loadInvisible||!1,s.options.successClass=s.options.successClass||"b-loaded",s.options.validateDelay=s.options.validateDelay||25,s.options.saveViewportOffsetDelay=s.options.saveViewportOffsetDelay||50,s.options.srcset=s.options.srcset||"data-srcset",s.options.src=g=s.options.src||"data-src",h=window.devicePixelRatio>1,A={},A.top=0-s.options.offset,A.left=0-s.options.offset,s.revalidate=function(){e(this)},s.load=function(e,t){var o=this.options;void 0===e.length?n(e,t,o):m(e,function(e){n(e,t,o)})},s.destroy=function(){var e=this,t=e._util;e.options.container&&m(e.options.container,function(e){p(e,"scroll",t.validateT)}),p(window,"scroll",t.validateT),p(window,"resize",t.validateT),p(window,"resize",t.saveViewportOffsetT),e.scroller&&e.scroller._xscroll&&e.scroller._xscroll.off("scroll scrollend afterrender",t.validateT,e.scroller._xscroll),t.count=0,t.elements.length=0,t.destroyed=!0},i.validateT=v(function(){t(s)},s.options.validateDelay,s),i.saveViewportOffsetT=v(function(){d(s.options.offset)},s.options.saveViewportOffsetDelay,s),d(s.options.offset),m(s.options.breakpoints,function(e){if(e.width>=window.screen.width)return g=e.src,!1}),setTimeout(function(){e(s)})}})},847:function(e,t){var o="can_use_webp";!function(){if(window.localStorage&&"object"==typeof localStorage&&(!localStorage.getItem(o)||"available"!==localStorage.getItem(o)&&"disable"!==localStorage.getItem(o))){var e=document.createElement("img");e.onload=function(){try{localStorage.setItem(o,"available")}catch(e){}},e.onerror=function(){try{localStorage.setItem(o,"disable")}catch(e){}},e.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAsAAAABBxAREYiI/gcAAABWUDggGAAAADABAJ0BKgEAAQABABwlpAADcAD+/gbQAA=="}}(),e.exports=function(){return!!window.localStorage&&"available"===window.localStorage.getItem(o)}},848:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("img",{staticClass:"vux-x-img",attrs:{src:e.defaultSrc,"data-src":e.currentSrc}})},r=[],s={render:n,staticRenderFns:r};t.a=s}});